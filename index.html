<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unimeal - Download Student App</title>
    <meta name="description" content="Download Unimeal Student App for Android - Manage your university caf√© meals">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <main class="download-page">
        <div class="container">
            <div class="download-box">
                <div class="app-icon">üçΩÔ∏è</div>
                <h1>Unimeal</h1>
                <p class="subtitle">Student Meal Management App</p>
                
                <div class="version-badge">Version 1.4.0</div>
                
                <div class="app-info">
                    <div class="info-row">
                        <span>üì¶ Size:</span>
                        <strong>103MB</strong>
                    </div>
                    <div class="info-row">
                        <span>üì± Platform:</span>
                        <strong>Android 5.0+</strong>
                    </div>
                    <div class="info-row">
                        <span>üîÑ Updated:</span>
                        <strong>Nov 11, 2025</strong>
                    </div>
                </div>
                
                <a href="https://github.com/asm2212/unimeal-student-landing/releases/download/v1.4.0/unimeal-v1.4.0.apk" 
                   class="btn-download" 
                   download>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    Download APK
                </a>
                
                <div class="qr-section">
                    <p class="qr-label">Or scan with your phone</p>
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://github.com/asm2212/unimeal-student-landing/releases/download/v1.4.0/unimeal-v1.4.0.apk" 
                         alt="Download QR Code" 
                         class="qr-code"
                         id="qr-code-img">
                    <div class="qr-actions">
                        <button onclick="downloadQR()" class="qr-btn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Download PNG
                        </button>
                        <button onclick="downloadQRAsPDF()" class="qr-btn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="12" y1="18" x2="12" y2="12"></line>
                                <line x1="9" y1="15" x2="15" y2="15"></line>
                            </svg>
                            Download PDF
                        </button>
                        <button onclick="printQR()" class="qr-btn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 6 2 18 2 18 9"></polyline>
                                <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                                <rect x="6" y="14" width="12" height="8"></rect>
                            </svg>
                            Print QR
                        </button>
                    </div>
                </div>
                
                <div class="install-note">
                    ‚ö†Ô∏è Enable "Install from Unknown Sources" in your device settings
                </div>
                
                <div class="features-simple">
                    <h3>What's Included</h3>
                    <ul>
                        <li>üí≥ Digital wallet for caf√© balance</li>
                        <li>üì∑ QR code scanning for payments</li>
                        <li>üìä Transaction history tracking</li>
                        <li>üîí Secure data encryption</li>
                    </ul>
                </div>
            </div>
            
            <footer class="simple-footer">
                <p>¬© 2025 Unimeal Student App</p>
                <p>
                    <a href="mailto:asmareadmasu0@gmail.com">Contact</a> ‚Ä¢ 
                    <a href="https://github.com/asm2212/unimeal-student-app" target="_blank">GitHub</a>
                </p>
            </footer>
        </div>
    </main>
    
    <script>
        function downloadQR() {
            const qrImg = document.getElementById('qr-code-img');
            const link = document.createElement('a');
            link.href = qrImg.src;
            link.download = 'unimeal-qr-code.png';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        function downloadQRAsPDF() {
            const { jsPDF } = window.jspdf;
            const qrImg = document.getElementById('qr-code-img');
            
            // Create a new PDF document
            const pdf = new jsPDF({
                orientation: 'portrait',
                unit: 'mm',
                format: 'a4'
            });
            
            // Get the QR code image
            const imgData = qrImg.src;
            
            // Add title to the PDF
            pdf.setFontSize(20);
            pdf.setTextColor(31, 41, 55); // Dark gray color
            pdf.text('Unimeal QR Code', 105, 20, { align: 'center' });
            
            // Add subtitle
            pdf.setFontSize(12);
            pdf.setTextColor(107, 114, 128); // Gray color
            pdf.text('Scan to download the Unimeal Student App', 105, 30, { align: 'center' });
            
            // Add the QR code image to the PDF
            // Calculate dimensions to fit the QR code nicely on the page
            const pdfWidth = pdf.internal.pageSize.getWidth();
            const pdfHeight = pdf.internal.pageSize.getHeight();
            const imageWidth = 100; // mm
            const imageX = (pdfWidth - imageWidth) / 2;
            
            pdf.addImage(imgData, 'PNG', imageX, 40, imageWidth, imageWidth);
            
            // Add instructions
            pdf.setFontSize(14);
            pdf.setTextColor(31, 41, 55);
            pdf.text('How to Install:', 20, imageWidth + 50);
            
            pdf.setFontSize(11);
            pdf.setTextColor(107, 114, 128);
            pdf.text('1. Open your phone camera', 25, imageWidth + 60);
            pdf.text('2. Point at the QR code above', 25, imageWidth + 67);
            pdf.text('3. Tap the notification to download', 25, imageWidth + 74);
            pdf.text('4. Enable "Install from Unknown Sources" if prompted', 25, imageWidth + 81);
            pdf.text('5. Install and enjoy!', 25, imageWidth + 88);
            
            // Add footer
            pdf.setFontSize(10);
            pdf.setTextColor(156, 163, 175);
            pdf.text('Version 1.4.0 ‚Ä¢ Android 5.0+ ‚Ä¢ 103MB', 105, pdfHeight - 20, { align: 'center' });
            pdf.text('¬© 2025 Unimeal Student App', 105, pdfHeight - 15, { align: 'center' });
            
            // Save the PDF
            pdf.save('unimeal-qr-code.pdf');
        }
        
        function printQR() {
            const qrImg = document.getElementById('qr-code-img');
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Unimeal QR Code - Print</title>
                    <style>
                        @media print {
                            @page { margin: 0; }
                            body { margin: 1cm; }
                        }
                        body {
                            font-family: 'Inter', Arial, sans-serif;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            min-height: 100vh;
                            text-align: center;
                        }
                        .print-container {
                            max-width: 600px;
                            padding: 2rem;
                        }
                        h1 {
                            font-size: 2.5rem;
                            color: #1f2937;
                            margin-bottom: 0.5rem;
                        }
                        .subtitle {
                            font-size: 1.2rem;
                            color: #6b7280;
                            margin-bottom: 2rem;
                        }
                        img {
                            width: 300px;
                            height: 300px;
                            margin: 2rem 0;
                            border: 2px solid #e5e7eb;
                            border-radius: 10px;
                        }
                        .instructions {
                            background: #f8fafc;
                            padding: 1.5rem;
                            border-radius: 10px;
                            margin-top: 2rem;
                            text-align: left;
                        }
                        .instructions h3 {
                            color: #1f2937;
                            margin-bottom: 1rem;
                        }
                        .instructions ol {
                            color: #6b7280;
                            line-height: 1.8;
                        }
                        .footer {
                            margin-top: 2rem;
                            color: #9ca3af;
                            font-size: 0.9rem;
                        }
                    </style>
                </head>
                <body>
                    <div class="print-container">
                        <h1>üçΩÔ∏è Unimeal</h1>
                        <p class="subtitle">Student Meal Management App</p>
                        <p style="font-size: 1.1rem; color: #1f2937; margin-bottom: 1rem;">
                            <strong>Scan to Download</strong>
                        </p>
                        <img src="${qrImg.src}" alt="Unimeal QR Code">
                        <div class="instructions">
                            <h3>üì± How to Install:</h3>
                            <ol>
                                <li>Open your phone camera</li>
                                <li>Point at the QR code above</li>
                                <li>Tap the notification to download</li>
                                <li>Enable "Install from Unknown Sources" if prompted</li>
                                <li>Install and enjoy!</li>
                            </ol>
                        </div>
                        <div class="footer">
                            <p><strong>Version 1.4.0</strong> ‚Ä¢ Android 5.0+ ‚Ä¢ 103MB</p>
                            <p>¬© 2025 Unimeal Student App</p>
                        </div>
                    </div>
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.focus();
            setTimeout(() => {
                printWindow.print();
            }, 250);
        }
    </script>
</body>
</html>
